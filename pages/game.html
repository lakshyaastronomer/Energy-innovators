<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Innovators SDG Matching Game</title>
    <style>

        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: #ffffff;
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #ffffff;
            text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.3);
        }

   
        #instructions {
            display: block;
            text-align: center;
            background: linear-gradient(135deg, #81c784, #66bb6a);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            margin: 0 auto;
        }

        p.instructions {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #ffffff;
        }

        ul.instructions-list {
            display: flex;
            flex-direction: column;
            font-size: 1.1rem;
            color: #ffffff;
            list-style-type: none;
            padding: 0;
            align-items: flex-start;
        }

        ul.instructions-list li {
            margin: 10px 0;
            display: flex;
            align-items: center;
        }

        ul.instructions-list li::before {
            content: "•";
            font-size: 1.5rem;
            margin-right: 10px;
            color: #ffffff;
        }

        #gameContainer {
            border: 5px solid #ffffff;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            width: 80%;
            max-width: 900px;
            margin: 20px auto;
            background: linear-gradient(135deg, #4caf50, #388e3c);
            display: none;
        }

        .game-board {
            display: grid;
            gap: 10px;
            max-width: 700px;
            width: 100%;
            margin: 20px auto;
        }

        .card {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #a5d6a7, #81c784);
            color: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            border-radius: 12px;
            transition: transform 0.3s, background-color 0.3s, box-shadow 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            text-align: center;
        }

        .card:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 15px rgba(255, 255, 255, 0.3);
        }

        .hidden {
            background-color: #2e7d32;
            cursor: default;
            color: transparent;
            box-shadow: none;
        }

        .matched {
            background: linear-gradient(135deg, #388e3c, #1b5e20);
            cursor: default;
            transform: scale(1.05);
        }


        #timer {
            margin: 10px 0;
            font-size: 1.1rem;
            font-weight: bold;
            color: #ffffff;
        }

        #game-controls {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        button {
            padding: 12px 20px;
            font-size: 1.2rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.3s, background-color 0.3s, color 0.3s;
            width: 200px;
        }

        button:hover {
            transform: scale(1.1);
        }

        button#startButton {
            background: linear-gradient(135deg, #81c784, #4caf50);
            color: #ffffff;
        }

        button#startButton:hover {
            background: linear-gradient(135deg, #66bb6a, #388e3c);
        }

        button#exitButton {
            background: linear-gradient(135deg, #f44336, #e57373);
            color: white;
        }

        button#exitButton:hover {
            background: linear-gradient(135deg, #d32f2f, #c62828);
        }

        button#exitButtonGame {
            background: linear-gradient(135deg, #f44336, #e57373);
            color: white;
        }

        button#exitButtonGame:hover {
            background: linear-gradient(135deg, #d32f2f, #c62828);
        }

        @media (min-width: 768px) {
            .game-board {
                grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
            }
        }

        @media (max-width: 767px) {
            .game-board {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 500px) {
            .game-board {
                grid-template-columns: repeat(3, 1fr);
            }
        }


        #levelUpMessage {
            font-size: 1.5rem;
            color: #ffffff;
            background: linear-gradient(135deg, #4caf50, #388e3c);
            padding: 10px;
            border-radius: 10px;
            font-weight: bold;
            display: none;
            margin-top: 20px;
        }

        #endGame {
            display: none;
            background: linear-gradient(135deg, #388e3c, #2e7d32);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        #endGame h2 {
            color: #ffffff;
            font-size: 2rem;
        }

        #scoreMessage {
            font-size: 1.2rem;
            margin: 15px 0;
            color: #ffffff;
        }

        #continueButton, #exitGameButton {
            margin-top: 15px;
            padding: 12px 20px;
            font-size: 1.1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.3s, background-color 0.3s, color 0.3s;
        }

        #continueButton {
            background: linear-gradient(135deg, #8bc34a, #4caf50);
            color: white;
        }

        #exitGameButton {
            background: linear-gradient(135deg, #e57373, #d32f2f);
            color: white;
        }

        #continueButton:hover {
            background: linear-gradient(135deg, #689f38, #558b2f);
        }

        #exitGameButton:hover {
            background: linear-gradient(135deg, #c62828, #b71c1c);
        }

    </style>
</head>
<body>
    <div id="instructions">
        <h1>SDG Matching Game</h1>
        <p class="instructions">Match the SDG icons with their names! Complete all levels to become an SDG champion!</p>
        <ul class="instructions-list">
            <li><strong>Step 1:</strong> Click on cards to flip them over and reveal their icons.</li>
            <li><strong>Step 2:</strong> Match the SDG icons with their corresponding names.</li>
            <li><strong>Step 3:</strong> Complete the level before time runs out!</li>
            <li><strong>Step 4:</strong> Use hints if you're stuck, but be careful—hints are limited!</li>
        </ul>
        <div>
            <button id="startButton">Start</button>
            <button id="exitButton">Exit</button> 
        </div>
    </div>

    <div id="gameContainer">
        <div id="level">Level: 1</div>
        <div class="game-board" id="gameBoard"></div>
        <p id="timer">Time left: 120 seconds</p>
        <div id="game-controls">
            <button id="hint">Hint (3 left)</button>
            <button id="exitGameButton">Exit Game</button> 
        </div>
        <div id="levelUpMessage">Great job! Proceeding to the next level.</div>
    </div>

    <div id="endGame">
        <h2>Game Over!</h2>
        <p id="scoreMessage"></p>
        <button id="continueButton">Try again</button>
        <button id="exitGameButtonEnd">Exit</button> 
    </div>

    <script>
        const sdgData = [
            { id: 1, name: "No Poverty" },
            { id: 2, name: "Zero Hunger" },
            { id: 3, name: "Good Health" },
            { id: 4, name: "Quality Education" },
            { id: 5, name: "Gender Equality" },
            { id: 6, name: "Clean Water" },
            { id: 7, name: "Affordable Energy" },
            { id: 8, name: "Decent Work" },
            { id: 9, name: "Industry & Innovation" },
            { id: 10, name: "Reduced Inequality" },
        ];

        const gameBoard = document.getElementById("gameBoard");
        const timerElement = document.getElementById("timer");
        const hintButton = document.getElementById("hint");
        const levelElement = document.getElementById("level");
        const startButton = document.getElementById("startButton");
        const exitButton = document.getElementById("exitButton");
        const instructionsSection = document.getElementById("instructions");
        const gameContainer = document.getElementById("gameContainer");
        const levelUpMessage = document.getElementById("levelUpMessage");
        const endGameSection = document.getElementById("endGame");
        const scoreMessage = document.getElementById("scoreMessage");
        const continueButton = document.getElementById("continueButton");
        const exitGameButton = document.getElementById("exitGameButton");
        const exitGameButtonEnd = document.getElementById("exitGameButtonEnd");

        let cards = [];
        let flippedCards = [];
        let matchedCards = 0;
        let timeLeft = 120;
        let hintsLeft = 3;
        let timer;
        let level = 1;

        startButton.addEventListener("click", startGame);
        exitButton.addEventListener("click", () => {
            const confirmExit = confirm("Are you sure you want to exit the game?");
            if (confirmExit) {
                window.location.href = '../index.html';
            }
        });

        hintButton.addEventListener("click", useHint);
        continueButton.addEventListener("click", continueGame);
        exitGameButton.addEventListener("click", exitGame); 
        exitGameButtonEnd.addEventListener("click", exitGame); 

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function generateCards(level) {
            const levelData = sdgData.slice(0, level + 2);
            cards = [...levelData, ...levelData];
            shuffle(cards);
        }

        function startGame() {
            instructionsSection.style.display = "none";
            gameContainer.style.display = "block";
            matchedCards = 0;
            flippedCards = [];
            generateCards(level);
            gameBoard.innerHTML = "";
            cards.forEach((card, index) => {
                const cardElement = document.createElement("div");
                cardElement.classList.add("card", "hidden");
                cardElement.dataset.cardId = index;
                cardElement.dataset.sdgId = card.id;
                cardElement.innerText = card.name;
                cardElement.addEventListener("click", () => handleCardClick(cardElement));
                gameBoard.appendChild(cardElement);
            });
            resetTimer();
            updateLevel();
        }

        function handleCardClick(cardElement) {
            if (cardElement.classList.contains("matched") || !cardElement.classList.contains("hidden") || flippedCards.length >= 2) {
                return;
            }

            cardElement.classList.remove("hidden");
            flippedCards.push(cardElement);

            if (flippedCards.length === 2) {
                checkForMatch();
            }
        }

        function checkForMatch() {
            const [card1, card2] = flippedCards;

            if (card1.dataset.sdgId === card2.dataset.sdgId) {
                card1.classList.add("matched");
                card2.classList.add("matched");
                matchedCards += 2;

                if (matchedCards === cards.length) {
                    clearInterval(timer);
                    if (level < 5) {
                        level++;
                        setTimeout(() => {
                            levelUpMessage.style.display = "block";
                            setTimeout(() => levelUpMessage.style.display = "none", 2000);
                            startGame();
                        }, 500);
                    } else {
                        showEndGame();
                    }
                }
            } else {
                setTimeout(() => {
                    card1.classList.add("hidden");
                    card2.classList.add("hidden");
                }, 1000);
            }

            flippedCards = [];
        }

        function resetTimer() {
            clearInterval(timer);
            timeLeft = 120 - (level * 10);
            timerElement.innerText = `Time left: ${timeLeft} seconds`;
            timer = setInterval(() => {
                timeLeft--;
                timerElement.innerText = `Time left: ${timeLeft < 10 ? "0" : ""}${timeLeft} seconds`;

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    alert("Time's up! Game over. Try again.");
                    level = 1;
                    startGame();
                }
            }, 1000);
        }

        function useHint() {
            if (hintsLeft > 0) {
                hintsLeft--;
                hintButton.innerText = `Hint (${hintsLeft} left)`;

                const hiddenCards = Array.from(document.querySelectorAll(".card.hidden"));
                const hintCards = hiddenCards.slice(0, 2);

                hintCards.forEach(card => card.classList.remove("hidden"));

                setTimeout(() => {
                    hintCards.forEach(card => card.classList.add("hidden"));
                }, 1000);

                if (hintsLeft === 0) {
                    hintButton.disabled = true;
                }
            }
        }

        function updateLevel() {
            levelElement.innerText = `Level: ${level}`;
        }

        function showEndGame() {
            scoreMessage.innerText = `You completed all levels! Your score: ${matchedCards}`;
            gameContainer.style.display = "none";
            endGameSection.style.display = "block";
        }

        function continueGame() {
            level = 1;
            matchedCards = 0;
            startGame();
            endGameSection.style.display = "none";
            gameContainer.style.display = "block";
        }

        function exitGame() {
            window.location.href = '../index.html'; 
        }
    </script>
</body>
</html>

